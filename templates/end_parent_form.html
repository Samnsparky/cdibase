{% extends "base.html" %}
{% block contents %}
<!-- Interface allowing parents to provide a completed CDI form.

Copyright (C) 2014 A. Samuel Pottinger ("Sam Pottinger", gleap.org)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="hero-unit">
    <h3>Contribute to the CU Language Project</h3>

    <p>
    Children understand many more words than they say! We are particularly interested in the words that your child has SAID by his/herself, without prompting. This means we are not interested in words a child can simply pronounce when instructed to, but rather words the child uses on their own to refer to things or ideas.
    </p>

    <p>
    {{ selected_format.details.inclusion_text }} If your child uses a different pronunciation of a word consistently (for example, "raffe" instead of "giraffe" or "sketti" for "spaghetti"), we do consider that to be <b>said</b>, as long as the pronunciation approximates the standard English pronunciation.
    </p>

    <p>Remember that this is a "catalogue" or “sample” of common words that are used by many different children. This list is used for children up to 30-months-old. Don’t worry if your child knows only a few of these right now or uses words not included in this list.
    </p>

    <p>
    You are always welcome to email us with any questions you have at language.project@colorado.edu or call us at (303)-735-0952.
    </p>

    <p>Thank you for your time!</p>

</div>
<div>
    <form method="POST">
        <div class="form-section">
            <div class="instructions">
                <div class="header">Child Information</div>
                <div class="body">Please verify the following information about your child.</div>
            </div>
            <div class="tiling-form-input">
                <div>Child Name</div>
                <div class="fake-input" id="child_name_input">{{ child_name }}</div>
            </div>
            {% if study == None or study == '' %}
            <div class="tiling-form-input">
                <label>Study</label>
                <input id="study-input" type="text" name="study" placeholder="ex Traj-Wave2">
            </div>
            {% endif %}
            {% if study_id == None or study_id == '' %}
            <div class="tiling-form-input">
                <label>Participant study ID</label>
                <input id="study-id-input" type="text" name="study_id" placeholder="ex TR27-5">
            </div>
            {% endif %}
            {% if database_id == None or database_id == '' %}
            <div class="tiling-form-input">
                <label id="global-id-label">Participant global ID</label>
                <input type="text" id="global-id-input" name="database_id" placeholder="ex 4810">
            </div>
            {% endif %}
            {% if birthday == None or birthday == '' %}
            <div class="tiling-form-input">
                <label>Participant birthday (YYYY/MM/DD)</label>
                <input type="text" name="birthday" placeholder="ex 1992/12/30">
            </div>
            {% endif %}
            {% if gender == None or gender == '' %}
            <div class="tiling-form-input">
                <label>Participant gender</label>
                <select name="gender">
                    <option value="{{ male_value }}">male</option>
                    <option value="{{ female_value }}">female</option>
                    <option value="{{ other_gender_value }}">other</option>
                </select>
            </div>
            {% endif %}
            {% if languages == None or languages == '' %}
            <div class="tiling-form-input">
                <label>Languages spoken (separated by commas)</label>
                <input type="text" name="languages" placeholder="ex english,spanish">
            </div>
            {% endif %}
            {% if total_num_sessions == None or total_num_sessions == '' %}
            <div class="tiling-form-input">
                <label>Total number of expected sessions</label>
                <input type="text" name="total_num_sessions" placeholder="ex 12">
            </div>
            {% endif %}
            {% if selected_format.details.meta.has_hard_of_hearing %}
            <div class="tiling-form-input">
                <label>Hard of hearing</label>
                <label class="checkbox">
                    <input name="hard_of_hearing" type="checkbox" {% if hard_of_hearing %}checked{% endif %}>
                    Hard of hearing
                </label>
            </div>
            {% endif %}
        </div>
        <div class="form-section">
            <div class="instructions">
                <div class="header">Words</div>
                <div class="body">Children understand many more words than they say.  We are particularly interested in the words that your child SAYS.  Please go through the list and mark the words you have heard your child use.  If you child uses a different pronunciation of a word (for example, "raffe" instead of "giraffe" or "sketti" for "spaghetti"), mark the word anyway.  Remember that this is a "catalogue" of all the words that are used by many different children.  Don’t worry if you child knows only a few of these right now.</div>
            </div>
            {% for category in selected_format.details.categories %}
                <div class="form-category parent-form-category" id='category-{{ loop.index }}'>
                    <h4>{{ category.name }}</h4>
                    <table class="table table-striped">
                        <tr>
                            <th>Word</th>
                            <th>Word Said in:</th>
                        </tr>
                        {% for word in category.words %}
                        <tr>
                            <td>{{ word }}</td>
                            <td>
                            {% for option in selected_format.details.options %}
                                <label class="checkbox inline-check">
                                    <input type="radio" name="{{ word }}_report" value="{{ option.value }}" {% if option.value == word_entries.get(word.replace('*', '').lower(), None) or word_entries.get(word.replace('*', '').lower(), None) in option.get("prefill_value", []) or ((word_entries.get(word.replace('*', '').lower(), None) not in option_values) and loop.last) %}checked{% endif %}> {{ option.name }}
                                </label>
                            {% endfor %}
                            </td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            {% endfor %}
            <div id="pagination-controls">
                <a href="#" id="previous-link">previous section</a>
                <span id="cur-page-display"></span> of <span id="total-pages">{{ num_categories }}</span>
                <a href="#" id="next-link">next section</a>
            </div>
            <input id="parent-submit-button" class="btn btn-primary" type="submit" value="Send Completed Form to CU Language Project">
        </div>
    </form>
</div>

{% endblock %}

{% block jsinclude %}
<script type="text/javascript" src="/static/js/parent_form.js"></script>
{% endblock %}
