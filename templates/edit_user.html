{% extends "base.html" %}

{% block contents %}
<!-- Interface allowing users to edit a user account within the application.

Copyright (C) 2014 A. Samuel Pottinger ("Sam Pottinger", gleap.org)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

{% if user %}
<h3>Add New User</h3>
{% else %}
<h3>Update User Account</h3>
{% endif %}

<form method="POST">
    <div class="form-entry form-group">
        <label>Email</label>
        <input class="form-control" type="text" name="new_email" placeholder="ex samp@gleap.org" value="{% if target_user %}{{ target_user.email }}{% endif %}">
    </div>
    <div class="form-entry form-group">
        <label>Permissions</label>
        <div>
            <label for="can-enter-data-input" class="checkbox">
                <input id="can-enter-data-input" name="can_enter_data" type="checkbox" {% if target_user and target_user.can_enter_data%}checked{% endif %}>
                Can enter data
            </label>
        </div>
        <div>
            <label for="can-delete-data-input" class="checkbox">
                <input id="can-delete-data-input" name="can_delete_data" type="checkbox" {% if target_user and target_user.can_delete_data%}checked{% endif %}>
                Can delete data
            </label>
        </div>
        <div>
            <label for="can-import-data-input" class="checkbox">
                <input id="can-import-data-input" name="can_import_data" type="checkbox" {% if target_user and target_user.can_import_data%}checked{% endif %}>
                Can import data
            </label>
        </div>
        <div>
            <label for="can-edit-parents-input" class="checkbox">
                <input id="can-edit-parents-input" name="can_edit_parents" type="checkbox" {% if target_user and target_user.can_edit_parents%}checked{% endif %}>
                Can send forms
            </label>
        </div>
        <div>
            <label for="can-access-data-input" class="checkbox">
                <input id="can-access-data-input" name="can_access_data" type="checkbox" {% if target_user and target_user.can_access_data%}checked{% endif %}>
                Can access data
            </label>
        </div>
        <div>
            <label for="can-change-formats-input" class="checkbox">
                <input id="can-change-formats-input" name="can_change_formats" type="checkbox" {% if target_user and target_user.can_change_formats%}checked{% endif %}>
                Can change formats and consent forms
            </label>
        </div>
        <div>
            <label for="can-use-api-key-input" class="checkbox">
                <input id="can-use-api-key-input" name="can_use_api_key" type="checkbox" {% if target_user and target_user.can_use_api_key%}checked{% endif %}>
                Can use API key
            </label>
        </div>
        <div>
            <label for="can-admin-input" class="checkbox">
                <input id="can-admin-input" name="can_admin" type="checkbox" {% if target_user and target_user.can_admin%}checked{% endif %}>
                Can administer user accounts
            </label>
        </div>
    </div>
    <input class="btn btn-primary" value="{{ action_label }}" type="submit"> or <a href="http://127.0.0.1:5000/base/edit_users">cancel</a>.
</form>
{% endblock %}
